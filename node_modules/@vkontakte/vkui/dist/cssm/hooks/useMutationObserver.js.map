{"version":3,"sources":["../../../src/hooks/useMutationObserver.ts"],"sourcesContent":["import type * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { useStableCallback } from './useStableCallback';\n\nexport const DEFAULT_MUTATION_OBSERVER_OPTIONS: MutationObserverInit = {\n  subtree: true,\n  childList: true,\n};\n\nexport const useMutationObserver = (\n  ref: React.RefObject<HTMLElement | null> | null,\n  callback: () => void,\n  options: MutationObserverInit = DEFAULT_MUTATION_OBSERVER_OPTIONS,\n): void => {\n  const stableCallback = useStableCallback(callback);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!ref || !ref.current) {\n      return;\n    }\n    const observer = new MutationObserver(stableCallback);\n    observer.observe(ref.current, options);\n    return () => observer.disconnect();\n  }, [ref, stableCallback]);\n};\n"],"names":["useIsomorphicLayoutEffect","useStableCallback","DEFAULT_MUTATION_OBSERVER_OPTIONS","subtree","childList","useMutationObserver","ref","callback","options","stableCallback","current","observer","MutationObserver","observe","disconnect"],"mappings":"AACA,SAASA,yBAAyB,QAAQ,sCAAmC;AAC7E,SAASC,iBAAiB,QAAQ,yBAAsB;AAExD,OAAO,MAAMC,oCAA0D;IACrEC,SAAS;IACTC,WAAW;AACb,EAAE;AAEF,OAAO,MAAMC,sBAAsB,CACjCC,KACAC,UACAC,UAAgCN,iCAAiC;IAEjE,MAAMO,iBAAiBR,kBAAkBM;IAEzCP,0BAA0B;QACxB,IAAI,CAACM,OAAO,CAACA,IAAII,OAAO,EAAE;YACxB;QACF;QACA,MAAMC,WAAW,IAAIC,iBAAiBH;QACtCE,SAASE,OAAO,CAACP,IAAII,OAAO,EAAEF;QAC9B,OAAO,IAAMG,SAASG,UAAU;IAClC,GAAG;QAACR;QAAKG;KAAe;AAC1B,EAAE"}