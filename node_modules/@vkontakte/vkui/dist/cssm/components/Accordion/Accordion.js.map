{"version":3,"sources":["../../../../src/components/Accordion/Accordion.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { useCustomEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { type HasChildren } from '../../types';\nimport { AccordionContent } from './AccordionContent';\nimport { AccordionContext, type AccordionContextProps } from './AccordionContext';\nimport { AccordionSummary } from './AccordionSummary';\n\nfunction useAccordionId(id: AccordionProps['id']) {\n  const generatedId = React.useId();\n  const labelId = id ?? `Accordion${generatedId}`;\n  const contentId = `AccordionContent${id ?? generatedId}`;\n\n  return { labelId, contentId };\n}\n\nexport interface AccordionProps extends HasChildren {\n  /**\n   * Используется для генерации id для заголовка и контента(a11y).\n   */\n  id?: string;\n  /**\n   * Управляет раскрытием и скрытием контента.\n   */\n  expanded?: boolean;\n  /**\n   * Значение по умолчанию.\n   */\n  defaultExpanded?: boolean;\n  /**\n   * Возвращает новое значение при изменении раскрытия/сворачивания контента.\n   */\n  onChange?: (newValue: boolean) => void;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n  /**\n   * Нужно ли удалять из DOM контент при сворачивании.\n   */\n  unmountOnCollapsed?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/accordion\n */\nexport const Accordion: React.FC<AccordionProps> & {\n  Summary: typeof AccordionSummary;\n  Content: typeof AccordionContent;\n} = ({\n  id,\n  expanded: expandedProp,\n  defaultExpanded = false,\n  onChange: onChangeProp,\n  children,\n  unmountOnCollapsed = false,\n  ...restProps\n}: AccordionProps) => {\n  const { labelId, contentId } = useAccordionId(id);\n\n  const [expanded, onChange] = useCustomEnsuredControl({\n    value: expandedProp,\n    defaultValue: defaultExpanded,\n    onChange: onChangeProp,\n    disabled: restProps.disabled,\n  });\n\n  const context = React.useMemo<AccordionContextProps>(\n    () => ({\n      labelId,\n      contentId,\n      expanded: expanded || false,\n      unmountOnCollapsed,\n      onChange,\n    }),\n    [contentId, expanded, labelId, onChange, unmountOnCollapsed],\n  );\n\n  return <AccordionContext.Provider value={context}>{children}</AccordionContext.Provider>;\n};\n\nAccordion.Summary = AccordionSummary;\nAccordion.Content = AccordionContent;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(Accordion.Summary, 'Accordion.Summary');\n  defineComponentDisplayNames(Accordion.Content, 'Accordion.Content');\n}\n"],"names":["React","useCustomEnsuredControl","defineComponentDisplayNames","AccordionContent","AccordionContext","AccordionSummary","useAccordionId","id","generatedId","useId","labelId","contentId","Accordion","expanded","expandedProp","defaultExpanded","onChange","onChangeProp","children","unmountOnCollapsed","restProps","value","defaultValue","disabled","context","useMemo","Provider","Summary","Content","process","env","NODE_ENV"],"mappings":"AAAA;;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,uBAAuB,QAAQ,mCAAgC;AACxE,SAASC,2BAA2B,QAAQ,iDAA8C;AAE1F,SAASC,gBAAgB,QAAQ,wBAAqB;AACtD,SAASC,gBAAgB,QAAoC,wBAAqB;AAClF,SAASC,gBAAgB,QAAQ,wBAAqB;AAEtD,SAASC,eAAeC,EAAwB;IAC9C,MAAMC,cAAcR,MAAMS,KAAK;IAC/B,MAAMC,UAAUH,MAAM,CAAC,SAAS,EAAEC,aAAa;IAC/C,MAAMG,YAAY,CAAC,gBAAgB,EAAEJ,MAAMC,aAAa;IAExD,OAAO;QAAEE;QAASC;IAAU;AAC9B;AA6BA;;CAEC,GACD,OAAO,MAAMC,YAGT,CAAC,EACHL,EAAE,EACFM,UAAUC,YAAY,EACtBC,kBAAkB,KAAK,EACvBC,UAAUC,YAAY,EACtBC,QAAQ,EACRC,qBAAqB,KAAK,EAC1B,GAAGC,WACY;IACf,MAAM,EAAEV,OAAO,EAAEC,SAAS,EAAE,GAAGL,eAAeC;IAE9C,MAAM,CAACM,UAAUG,SAAS,GAAGf,wBAAwB;QACnDoB,OAAOP;QACPQ,cAAcP;QACdC,UAAUC;QACVM,UAAUH,UAAUG,QAAQ;IAC9B;IAEA,MAAMC,UAAUxB,MAAMyB,OAAO,CAC3B,IAAO,CAAA;YACLf;YACAC;YACAE,UAAUA,YAAY;YACtBM;YACAH;QACF,CAAA,GACA;QAACL;QAAWE;QAAUH;QAASM;QAAUG;KAAmB;IAG9D,qBAAO,KAACf,iBAAiBsB,QAAQ;QAACL,OAAOG;kBAAUN;;AACrD,EAAE;AAEFN,UAAUe,OAAO,GAAGtB;AACpBO,UAAUgB,OAAO,GAAGzB;AAEpB,IAAI0B,QAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;IACzC7B,4BAA4BU,UAAUe,OAAO,EAAE;IAC/CzB,4BAA4BU,UAAUgB,OAAO,EAAE;AACjD"}