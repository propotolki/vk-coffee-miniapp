{"version":3,"sources":["../../../../../src/lib/sheet/controllers/CSSTransitionController.ts"],"sourcesContent":["export type CSSTransitionControllerUnit = 'px' | '%' | '';\n\nexport class CSSTransitionController<V extends number | string = number> {\n  public readonly el: HTMLElement;\n  public readonly property: string;\n\n  constructor(el: HTMLElement, property: string) {\n    this.el = el;\n    this.property = property;\n  }\n\n  set(to: V) {\n    this.el.style.setProperty(this.property, `${to}`);\n    return this;\n  }\n\n  unset() {\n    return this.cleanup();\n  }\n\n  enableTransition() {\n    this.el.style.removeProperty('transition');\n    return this;\n  }\n\n  disableTransition() {\n    this.el.style.setProperty('transition', 'none');\n    return this;\n  }\n\n  cleanup() {\n    this.el.removeEventListener('transitionend', this.handleTransitionEnd);\n    this.el.style.removeProperty('transition');\n    this.el.style.removeProperty(this.property);\n    return this;\n  }\n\n  cleanupOnTransitionEnd() {\n    this.el.addEventListener('transitionend', this.handleTransitionEnd, { once: true });\n    return this;\n  }\n\n  private readonly handleTransitionEnd = () => {\n    this.cleanup();\n    return this;\n  };\n}\n"],"names":["CSSTransitionController","el","property","set","to","style","setProperty","unset","cleanup","enableTransition","removeProperty","disableTransition","removeEventListener","handleTransitionEnd","cleanupOnTransitionEnd","addEventListener","once"],"mappings":"AAEA,OAAO,MAAMA;IACKC,GAAgB;IAChBC,SAAiB;IAEjC,YAAYD,EAAe,EAAEC,QAAgB,CAAE;QAC7C,IAAI,CAACD,EAAE,GAAGA;QACV,IAAI,CAACC,QAAQ,GAAGA;IAClB;IAEAC,IAAIC,EAAK,EAAE;QACT,IAAI,CAACH,EAAE,CAACI,KAAK,CAACC,WAAW,CAAC,IAAI,CAACJ,QAAQ,EAAE,GAAGE,IAAI;QAChD,OAAO,IAAI;IACb;IAEAG,QAAQ;QACN,OAAO,IAAI,CAACC,OAAO;IACrB;IAEAC,mBAAmB;QACjB,IAAI,CAACR,EAAE,CAACI,KAAK,CAACK,cAAc,CAAC;QAC7B,OAAO,IAAI;IACb;IAEAC,oBAAoB;QAClB,IAAI,CAACV,EAAE,CAACI,KAAK,CAACC,WAAW,CAAC,cAAc;QACxC,OAAO,IAAI;IACb;IAEAE,UAAU;QACR,IAAI,CAACP,EAAE,CAACW,mBAAmB,CAAC,iBAAiB,IAAI,CAACC,mBAAmB;QACrE,IAAI,CAACZ,EAAE,CAACI,KAAK,CAACK,cAAc,CAAC;QAC7B,IAAI,CAACT,EAAE,CAACI,KAAK,CAACK,cAAc,CAAC,IAAI,CAACR,QAAQ;QAC1C,OAAO,IAAI;IACb;IAEAY,yBAAyB;QACvB,IAAI,CAACb,EAAE,CAACc,gBAAgB,CAAC,iBAAiB,IAAI,CAACF,mBAAmB,EAAE;YAAEG,MAAM;QAAK;QACjF,OAAO,IAAI;IACb;IAEiBH,sBAAsB;QACrC,IAAI,CAACL,OAAO;QACZ,OAAO,IAAI;IACb,EAAE;AACJ"}