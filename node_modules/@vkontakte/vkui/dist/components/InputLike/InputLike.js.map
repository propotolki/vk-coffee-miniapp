{"version":3,"sources":["../../../src/components/InputLike/InputLike.tsx"],"sourcesContent":["'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { stopPropagation } from '../../lib/utils';\nimport { RootComponent, type RootComponentProps } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './InputLike.module.css';\n\nexport interface InputLikeProps extends RootComponentProps<HTMLSpanElement> {\n  length: number;\n  index: number;\n  value?: string;\n  label?: string;\n  onElementSelect?: (index: number) => void;\n}\n\nconst MASK_SYMBOL = String.fromCharCode(0x2007);\n\nfunction getMaskElements(length: number) {\n  const result = [];\n  for (let index = 0; index < length; index += 1) {\n    result.push(\n      <span key={index} className={styles.mask}>\n        {MASK_SYMBOL}\n      </span>,\n    );\n  }\n  return result;\n}\n\nexport const InputLike = ({\n  value,\n  length,\n  index,\n  onElementSelect,\n  onFocus,\n  label,\n  readOnly,\n  onKeyDown,\n  ...restProps\n}: InputLikeProps) => {\n  const handleElementSelect = React.useCallback(\n    (event: React.MouseEvent<HTMLSpanElement>) => {\n      stopPropagation(event);\n      onElementSelect?.(index);\n    },\n    [index, onElementSelect],\n  );\n\n  return (\n    <RootComponent\n      Component=\"span\"\n      baseClassName={value?.length === length ? styles.host : undefined}\n      tabIndex={readOnly ? -1 : 0}\n      onFocus={callMultiple(onFocus, handleElementSelect)}\n      onKeyDown={readOnly ? undefined : onKeyDown}\n      {...restProps}\n    >\n      {label && <VisuallyHidden>{label}</VisuallyHidden>}\n      {value?.slice(0, length - 1)}\n      {value?.slice(length - 1) && (\n        <span key={index} className={styles.lastCharacter}>\n          {value.slice(length - 1)}\n        </span>\n      )}\n      {getMaskElements(length - (value?.length ?? 0))}\n    </RootComponent>\n  );\n};\n"],"names":["React","callMultiple","stopPropagation","RootComponent","VisuallyHidden","MASK_SYMBOL","String","fromCharCode","getMaskElements","length","result","index","push","span","className","InputLike","value","onElementSelect","onFocus","label","readOnly","onKeyDown","restProps","handleElementSelect","useCallback","event","Component","baseClassName","undefined","tabIndex","slice"],"mappings":"AAAA;;;;;AACA,sCAAsC,GAEtC,YAAYA,WAAW,QAAQ;AAC/B,SAASC,YAAY,QAAQ,4BAAyB;AACtD,SAASC,eAAe,QAAQ,qBAAkB;AAClD,SAASC,aAAa,QAAiC,oCAAiC;AACxF,SAASC,cAAc,QAAQ,sCAAmC;AAWlE,MAAMC,cAAcC,OAAOC,YAAY,CAAC;AAExC,SAASC,gBAAgBC,MAAc;IACrC,MAAMC,SAAS,EAAE;IACjB,IAAK,IAAIC,QAAQ,GAAGA,QAAQF,QAAQE,SAAS,EAAG;QAC9CD,OAAOE,IAAI,eACT,KAACC;YAAiBC,SAAS;sBACxBT;WADQM;IAIf;IACA,OAAOD;AACT;AAEA,OAAO,MAAMK,YAAY;QAAC,EACxBC,KAAK,EACLP,MAAM,EACNE,KAAK,EACLM,eAAe,EACfC,OAAO,EACPC,KAAK,EACLC,QAAQ,EACRC,SAAS,EAEM,WADZC;QARHN;QACAP;QACAE;QACAM;QACAC;QACAC;QACAC;QACAC;;IAGA,MAAME,sBAAsBvB,MAAMwB,WAAW,CAC3C,CAACC;QACCvB,gBAAgBuB;QAChBR,4BAAAA,sCAAAA,gBAAkBN;IACpB,GACA;QAACA;QAAOM;KAAgB;QAmBKD;IAhB/B,qBACE,MAACb;QACCuB,WAAU;QACVC,eAAeX,CAAAA,kBAAAA,4BAAAA,MAAOP,MAAM,MAAKA,iCAAuBmB;QACxDC,UAAUT,WAAW,CAAC,IAAI;QAC1BF,SAASjB,aAAaiB,SAASK;QAC/BF,WAAWD,WAAWQ,YAAYP;OAC9BC;;YAEHH,uBAAS,KAACf;0BAAgBe;;YAC1BH,kBAAAA,4BAAAA,MAAOc,KAAK,CAAC,GAAGrB,SAAS;YACzBO,CAAAA,kBAAAA,4BAAAA,MAAOc,KAAK,CAACrB,SAAS,qBACrB,KAACI;gBAAiBC,SAAS;0BACxBE,MAAMc,KAAK,CAACrB,SAAS;eADbE;YAIZH,gBAAgBC,SAAUO,CAAAA,CAAAA,gBAAAA,kBAAAA,4BAAAA,MAAOP,MAAM,cAAbO,2BAAAA,gBAAiB,CAAA;;;AAGlD,EAAE"}